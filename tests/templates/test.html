{% extends 'main.html' %}

{% block content %}
<div class="ui grid">
	<div class="two wide column"></div>
	<div class="twelve wide column">
		<div class="ui vertical center aligned segment">	
			<div class="ui huge header">
				{{test.title}}
				<div class="sub header">{{test.description}}</div>
			</div>
		</div>
		<div  id = "content">
			<div id="test">
				<div class="ui grid">
					<div class="six wide column"></div>
					<div class="four wide column">
						<p></p>
						<div class="ui green button fluid" id = "start" data-test = "{{test.id}}">
							Начать
						</div>
					</div>
					<div class="six wide column"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="two wide column"></div>
</div>

{% endblock %}

{% block scripts %}
	{% load static %}
	<script type="tmpl/underscore" id ="answer_tmpl">
		<div class="content">
			<div class="ui slider checkbox">
				<input type="checkbox">
				<label><%- text %></label>
			</div>
		</div>
	</script>
	<script type="tmpl/underscore" id = 'next_tmpl'>
		<div class="ui grid">
			<div class="four wide column"></div>
			<div class="eight wide column">
				<div class="ui fluid three item menu">
				  <a class="item" id = 'help'>
				    <i class="help icon"></i>
				  </a>
				  <a class="item" id = "timer">0:00</a>
				  <a class="item" id ="next_quest">
				    Дальше <i class="icon right arrow"></i>
				  </a>
				</div>
			</div>
			<div class="four wide column"></div>
		</div>
		
	</script>

	<script type="tmpl/underscore" id ="result_tmpl">
		<p></p>
		<div class="ui grid">
			<div class="two wide column"></div>
			<div class="twelve wide column">
				<div class="ui huge message <%-color%>">
					Ваша отметка : <%-test_result%> 
				</div>
				<table class="ui celled table">
					<thead>
						<th>Вопрос</th>
						<th>Ответы</th>
					</thead>
					<tbody>
						<% _.each(questions, function(question){ %>
							<tr>
								<td rowspan = "<%-question.answers.length + 1%>"><%-question.text%></td>
							</tr>

							<% _.each(question.answers, function(answer){%>
								<tr>
									<% if (answer.error && !answer.correct) { %>
										<td class = "negative">
											<i class="icon close"></i>
											<%-answer.text%>
										</td>
									<% } else if (answer.correct && answer.selection) {%>
										<td class = "positive">
											<i class="icon checkmark"></i>
											<%-answer.text%>
										</td>
									<% }else if (answer.correct && !answer.selection){%>
										<td class = "positive">
											<i class="icon circular checkmark"></i>
											<%-answer.text%>
										</td>
									<% } else {%>
										<td><%-answer.text%></td>
									<% } %>
								</tr>
							<% }); %>

						<% }); %>
					</tbody>
				</table>
			</div>
			<div class="two wide column"></div>
		</div>
	</script>

	<script type="text/javascript" src = "{% static 'application/test.js' %}"></script>
{% endblock %}